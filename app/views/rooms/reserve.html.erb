<div class="container">
  <div class="room-show">

    <%# エラー表示の共通部品 %>
    <%= render "shared/error-explanation", user: @reservation %>

    <div class="row">

      <%# 部屋情報 %>
      <div class="col-md-8 room-show__left">

        <%# 写真 %>
        <div class="room-show__room-image">
          <%= image_tag @room.room_img.to_s, class: "room-show__room-image-tag" %>
        </div>

        <%# アイコン、アドレス等 %>
        <div class="room-show__room-info-container">
          <%# アイコン %>
          <div class="room-show__room-info-left">
            <%= image_tag @user.user_img.url, alt: "User's icon", class: "room-show__users-icon" %>
          </div>
          <%# アドレス等 %>
          <div class="room-show__room-info-right">
            <h2 class="room-show__room-info-header"><%= @room.roomname %></h2>
            <p class="room-show__room-info-address"><%= @room.address %></p>
          </div>
        </div>

        <%# 紹介文 %>
        <div class="room-show__room-info-container">
          <p><%= @room.introduction %></p>
        </div>
      </div>

      <%# 予約フォーム %>
      <div class="col-md-4 room-show__right">
        <div class="room-reserve-form">
          <%= form_with model: @reservation, url: new_reservation_path, method: :get,local: true do |f| %>

          <%# 1日あたりの値段 %>
          <p class="room-reserve-form__title">¥ <%= @room.fee %> / 日</p>

          <%# 開始日 %>
          <div class="room-reserve-form__input-field">
            <%= f.label :start_date, "開始日" ,class: "room-reserve-form__input-label"  %>
            <%= f.date_field :start_date, class: "room-reserve-form__input" %>
          </div>

          <%# 終了日 %>
          <div class="room-reserve-form__input-field">
            <%= f.label :end_date, "終了日" ,class: "room-reserve-form__input-label"  %>
            <%= f.date_field :end_date, class: "room-reserve-form__input" %>
          </div>

          <%# 人数 %>
          <div class="room-reserve-form__input-field">
            <%= f.label :num_of_people, "人数" ,class: "room-reserve-form__input-label"  %>
            <%= f.number_field :num_of_people, class: "room-reserve-form__input", min: 1 %>
          </div>

          <%# room_id %>
          <div>
            <%= f.hidden_field :room_id, value: @room.id%>
          </div>

          <%# 予約ボタン %>
          <% if current_user %>
          <div class="room-reserve-form__input-field ">
            <%= f.submit "予約する", class: 'account__submit btn btn-primary btn-lg btn-block' %>
          </div>
          <% end %>
          <% end %>

          <% unless current_user %>
          <%= button_to "ログイン", login_path, {method: :get, class: "btn btn-primary btn-block" } %>
          <% end %>

        </div>
      </div>
    </div>
  </div>
</div>
